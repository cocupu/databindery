h1. CoCuPu

h2. Trying it out
The default server (webbrick) performs poorly.  Instead run:
<pre>$ unicorn_rails
</pre>

h2. Deploying
# Install a javascript runtime (already installed on the Mac)
  See https://github.com/sstephenson/execjs
  I tried this one:
<pre>gem install therubyracer</pre>

Need to run this after deploying to a new MongoDB:
<pre>$ script/rails runner 'Delayed::Backend::Mongoid::Job.create_indexes' </pre>

h2. Jetty
To install jetty run the generator:
<pre>rails g cocupu:jetty</pre>

h2. Workers

h3. In development:
<pre>$ rake jobs:work</pre>

h3. In production -- doesn't work:
<pre>$ RAILS_ENV=production script/delayed_job start
$ RAILS_ENV=production script/delayed_job stop</pre>

Run two workers in separate processes.

<pre>$ RAILS_ENV=production script/delayed_job -n 2 start
$ RAILS_ENV=production script/delayed_job stop</pre>
